;-------------------------------------------------
;函数名:GET_TALENTNAME
;概　要:素质名获取函数
;引　数:ARG:0…TALENT注册编号
;　　　:ARG:1…TALENT内容
;　　　:ARG_ALL_GET=0…行为与以前相同(默认)
;　　　:           =1(追加)…返回该TALENT变量可能取的值。如不洁抵抗(TALENT:61)则为"-2,-1,0,1,2"
;　　　:           =2(追加)…返回该TALENT变量可能取的名称。如不洁抵抗(TALENT:61)则为"洁癖症,污秽敏感,,污秽迟钝,无视污秽"
;　　　:ARG_SW…ARG_ALL_GET非0时，用于分隔返回字符串的字符串。默认为,
;返回值:素质名
;备　考:文中函数
;返回素质的名称。
;2025/9/10 可获取各TALENT可能取的值、可能返回的名称。仅限于传统用法，行为应该没有改变。
;2025/9/19 分隔符已迁移到常量
;-------------------------------------------------
@GET_TALENTNAME(ARG , ARG:1 , ARG_ALL_GET = 0 , ARG_SW = ",")
#FUNCTIONS
#DIM ARG_ALL_GET
#DIMS ARG_SW ;SPLIT WORD
#DIM CNT
#DIM CONST C_ABILITY_MAX6 = 6
#DIMS L_TNAME
#DIMS L_TVALUE
#DIMS L_SPLITSTR , 20
#DIM L_SPLITNUM
#DIM L_SAVERES

SELECTCASE ARG
;addition custom code
;----------------------------------
	;处女
	CASE 0
		L_TNAME = 无自觉非处女%ARG_SW%%ARG_SW%处女
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
	;童贞
	CASE 1
		L_TNAME = 童贞%ARG_SW%
		L_TVALUE = 0%ARG_SW%1
	;性别
	CASE 2
		L_TNAME = ※性别不存在※%ARG_SW%女性%ARG_SW%男性%ARG_SW%扶她
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3
	;恋慕
	CASE 3
		L_TNAME = 恋慕%ARG_SW%爱恋
		L_TVALUE = 1%ARG_SW%2
	;无接吻经验
	CASE 6
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 无接吻经验？%ARG_SW%%ARG_SW%无接吻经验
	;胆量
	CASE 10
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 胆怯%ARG_SW%%ARG_SW%坚强
	;态度
	CASE 11
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 坦率%ARG_SW%%ARG_SW%叛逆
	;回应
	CASE 12
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 老实%ARG_SW%%ARG_SW%傲慢
	;自尊心
	CASE 13
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 自尊心低%ARG_SW%%ARG_SW%自尊心高
	;心情
	CASE 15
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 心情不快%ARG_SW%%ARG_SW%心情愉快
	;容姿
	CASE 16
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 丑陋%ARG_SW%%ARG_SW%俊美
	;年龄
	CASE 17
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1%ARG_SW%2
		L_TNAME = 儿童%ARG_SW%%ARG_SW%中年%ARG_SW%老人
	;性的兴趣
	CASE 23
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 保守的%ARG_SW%%ARG_SW%好奇心
	;开朗／阴郁,
	CASE 24
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 阴郁%ARG_SW%%ARG_SW%开朗
	;贞操重视
	CASE 30
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 不在乎贞操%ARG_SW%%ARG_SW%贞操重视
	;自己爱
	CASE 31
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 圧抑%ARG_SW%%ARG_SW%解放
	;羞耻心
	CASE 33
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 不知羞耻%ARG_SW%%ARG_SW%害羞
	;痛觉
	CASE 40
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 不怕痛%ARG_SW%%ARG_SW%怕痛
	;弄湿难易
	CASE 41
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 不易湿%ARG_SW%%ARG_SW%容易湿
	;习得速度
	CASE 50
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 学习慢%ARG_SW%%ARG_SW%学习快
	;采伐钓鱼采集调合Lv
	CASE 46, 47, 48, 49
		L_TVALUE = 0
		FOR CNT , 1 , C_ABILITY_MAX6 + 1
			L_TVALUE += @"%ARG_SW%{CNT}"
		NEXT

		L_TNAME = %TALENT_TR(ARG)%0
		FOR CNT , 1 , C_ABILITY_MAX6 + 1
			L_TNAME += @"%ARG_SW%%TALENT_TR(ARG)%{CNT}"
		NEXT
	;污臭耐性
	CASE 61
		L_TVALUE = -2%ARG_SW%-1%ARG_SW%0%ARG_SW%1%ARG_SW%2
		L_TNAME = 洁癖症%ARG_SW%污臭敏感%ARG_SW%%ARG_SW%污臭钝感%ARG_SW%污臭无视
	;快感应答
	CASE 70
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 否定快感%ARG_SW%%ARG_SW%接受快感
	;性别嗜好
	CASE 81
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1%ARG_SW%2%ARG_SW%3
		L_TNAME = 两面通吃%ARG_SW%%ARG_SW%讨厌男人%ARG_SW%讨厌女人%ARG_SW%不信任人类
	;体型
	CASE 100
		L_TVALUE = -5%ARG_SW%-2%ARG_SW%-1%ARG_SW%0%ARG_SW%1%ARG_SW%2%ARG_SW%5
		L_TNAME = 小人%ARG_SW%幼儿体型%ARG_SW%矮小体型%ARG_SW%普通体型%ARG_SW%高大%ARG_SW%巨躯%ARG_SW%巨人
	;Ｃ感度
	CASE 101
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = Ｃ钝感%ARG_SW%%ARG_SW%Ｃ敏感
	;Ｖ感度
	CASE 102
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = Ｖ钝感%ARG_SW%%ARG_SW%Ｖ敏感
	;Ａ感度
	CASE 103
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = Ａ钝感%ARG_SW%%ARG_SW%Ａ敏感
	;Ｂ感度
	CASE 104
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = Ｂ钝感%ARG_SW%%ARG_SW%Ｂ敏感
	;胸围
	CASE 105
		L_TVALUE = -2%ARG_SW%-1%ARG_SW%0%ARG_SW%1%ARG_SW%2
		L_TNAME = 绝壁%ARG_SW%贫乳%ARG_SW%纤乳%ARG_SW%巨乳%ARG_SW%爆乳
	;Ｍ感度
	CASE 106
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1%ARG_SW%2
		L_TNAME = Ｍ钝感%ARG_SW%%ARG_SW%Ｍ敏感%ARG_SW%Ｍ超敏感
	;臀围
	CASE 108
		L_TVALUE = -2%ARG_SW%-1%ARG_SW%0%ARG_SW%1%ARG_SW%2
		L_TNAME = 幼臀%ARG_SW%小臀%ARG_SW%纤臀%ARG_SW%翘臀%ARG_SW%丰臀
	;酒耐性
	CASE 121
		L_TVALUE = -2%ARG_SW%-1%ARG_SW%0%ARG_SW%1%ARG_SW%2%ARG_SW%3
		L_TNAME = 不会喝酒%ARG_SW%不擅喝酒%ARG_SW%%ARG_SW%擅于喝酒%ARG_SW%酒豪%ARG_SW%海量
	;恢复速度
	CASE 130
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1
		L_TNAME = 恢复慢%ARG_SW%%ARG_SW%恢复快
	CASE 143
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3%ARG_SW%4
		L_TNAME = %ARG_SW%兽耳%ARG_SW%兔耳%ARG_SW%犬耳%ARG_SW%猫耳
	CASE 149
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2
		L_TNAME = %ARG_SW%可以哺乳%ARG_SW%泌乳体质
	;音乐知识
	CASE 161
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3
		L_TNAME = %ARG_SW%乐器知识%ARG_SW%歌唱知识%ARG_SW%舞蹈知识
	;音感
	CASE 162
		L_TVALUE = -1%ARG_SW%0%ARG_SW%1%ARG_SW%2
		L_TNAME = 音痴%ARG_SW%%ARG_SW%音感%ARG_SW%绝对音感
	;冰精
	CASE 164
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2
		L_TNAME = %ARG_SW%冰精%ARG_SW%雪女
	;炮友
	CASE 185
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2
		L_TNAME = %ARG_SW%炮友%ARG_SW%情人
	;人类
	CASE 190
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3%ARG_SW%4%ARG_SW%5%ARG_SW%6
		L_TNAME = %ARG_SW%人类%ARG_SW%仙人%ARG_SW%天人%ARG_SW%月人%ARG_SW%魔界人%ARG_SW%外界人
	;妖怪
	CASE 191
		;さすがに長いので{}使うね
		{
			L_TVALUE = 
				0%ARG_SW%
				1%ARG_SW%
				2%ARG_SW%
				3%ARG_SW%
				4%ARG_SW%
				5%ARG_SW%
				6%ARG_SW%
				7%ARG_SW%
				8%ARG_SW%
				9%ARG_SW%
				10%ARG_SW%
				11%ARG_SW%
				12
		}
		{
			L_TNAME = 
				%ARG_SW%
				妖怪%ARG_SW%
				鬼%ARG_SW%
				吸血鬼%ARG_SW%
				河童%ARG_SW%
				天狗%ARG_SW%
				妖兽%ARG_SW%
				妖鸟%ARG_SW%
				妖虫%ARG_SW%
				恶魔%ARG_SW%
				小人%ARG_SW%
				座敷童子%ARG_SW%
				山童
		}
		;タブ文字と半角スペースを削除
		L_TVALUE '= REPLACE(L_TVALUE , "	" , "")
		L_TVALUE '= REPLACE(L_TVALUE , " " , "")
		L_TNAME '= REPLACE(L_TNAME , "	" , "")
		L_TNAME '= REPLACE(L_TNAME , " " , "")
	;妖精
	CASE 192
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%妖精
	;神霊
	CASE 193
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3
		L_TNAME = %ARG_SW%神灵%ARG_SW%死神%ARG_SW%阎魔
	;幽灵
	CASE 194
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3%ARG_SW%4
		L_TNAME = %ARG_SW%幽灵%ARG_SW%骚灵%ARG_SW%亡灵%ARG_SW%恶灵
	;付丧神
	CASE 195
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%付丧神
	;人形
	CASE 196
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3%ARG_SW%4%ARG_SW%5%ARG_SW%99
		L_TNAME = %ARG_SW%人偶%ARG_SW%机械%ARG_SW%魔像%ARG_SW%埴轮%ARG_SW%僵尸%ARG_SW%人偶少女
	;追加种族
	CASE 197
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3%ARG_SW%4
		L_TNAME = %ARG_SW%巫女%ARG_SW%魔法使%ARG_SW%女仆%ARG_SW%蓬莱人
	;人妻
	CASE 198
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2
		L_TNAME = %ARG_SW%人妻%ARG_SW%未亡人
	;温泉从业员
	CASE 199
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3%ARG_SW%4
		L_TNAME = %ARG_SW%风俗娘%ARG_SW%娼妇%ARG_SW%熟悉的风俗娘%ARG_SW%熟悉的娼妇
	;妻
	CASE 221 ;addition custom code
		IF IS_MALE(ARG:2)
			L_TVALUE = 0%ARG_SW%1%ARG_SW%2
			L_TNAME = %ARG_SW%未婚妻%ARG_SW%妻子
		ELSE
			L_TVALUE = 0%ARG_SW%1%ARG_SW%2
			L_TNAME = %ARG_SW%未婚夫%ARG_SW%丈夫
		ENDIF
	;妾
	CASE 222 ;addition custom code
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%侧室
	;力持ち
	CASE 223
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%大力士
	;噂話者
	CASE 224
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%爱八卦
	;酒造家
	CASE 225
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2
		L_TNAME = %ARG_SW%酿酒师%ARG_SW%杜氏
	;叠石
	CASE 274
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%3%ARG_SW%4%ARG_SW%5%ARG_SW%6
		L_TNAME = %ARG_SW%叠石外行%ARG_SW%叠石新手%ARG_SW%叠石精英%ARG_SW%叠石老手%ARG_SW%叠石大师%ARG_SW%叠石王者
	;形状
	CASE 250
		L_TVALUE = 0%ARG_SW%1%ARG_SW%2%ARG_SW%4%ARG_SW%5%ARG_SW%6%ARG_SW%10
		L_TNAME = %ARG_SW%小鸡鸡%ARG_SW%短鸡鸡%ARG_SW%萤光屌%ARG_SW%疣凸屌%ARG_SW%巨屌%ARG_SW%驴屌
	;PREGNANCY_TYPE
	CASE 310
		L_TVALUE = 0%ARG_SW%{PREGNANCY_LITTERS}%ARG_SW%{PREGNANCY_EGGS}%ARG_SW%{PREGNANCY_CLUTCH}
		L_TNAME = %ARG_SW%多胎%ARG_SW%产卵（单）%ARG_SW%产卵（多）
	;Nesting
	CASE 311
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%孵育
	;Hyperfertile
	CASE 312
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%生育力旺盛
	CASEELSE
		L_TVALUE = 0%ARG_SW%1
		L_TNAME = %ARG_SW%%TALENT_TR(ARG)%
ENDSELECT

IF ARG_ALL_GET == 1
	;取り得る値を返す
	RETURNF L_TVALUE
ELSEIF ARG_ALL_GET == 2
	;取り得る名前を返す
	RETURNF L_TNAME
ELSE
	;(従来の挙動)ARG:1で指定された値のTALENTNAMEを返す
	;従来の挙動はRESULTを破壊しないのでRESULTを保持する
	L_SAVERES = RESULT

	VARSET L_SPLITSTR
	SPLIT L_TVALUE , ARG_SW , L_SPLITSTR
	L_SPLITNUM = FINDELEMENT(L_SPLITSTR , TOSTR(ARG:1) , , ,1)

	VARSET L_SPLITSTR
	SPLIT L_TNAME , ARG_SW , L_SPLITSTR

	RESULT = L_SAVERES
	IF L_SPLITNUM >= 0
		RETURNF L_SPLITSTR:L_SPLITNUM
	ELSE
		RETURNF ""
	ENDIF
ENDIF


;-------------------------------------------------
;CHARAの种族素質ARGの名称を返す
;-------------------------------------------------
@GET_TRIBENAME(CHARA, ARG)
#FUNCTIONS
#DIM CHARA
SELECTCASE ARG
CASE GETNUM(TALENT, "人类")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "人类"
	CASE 2
		RETURNF "仙人"
	CASE 3
		RETURNF "天人"
	CASE 4
		RETURNF "月人"
	CASE 5
		RETURNF "魔界人"
	CASE 6
		RETURNF "外界人"
	CASEELSE
		RETURNF "名称不明（人类）"
	ENDSELECT
CASE GETNUM(TALENT, "妖怪")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "妖怪"
	CASE 2
		RETURNF "鬼"
	CASE 3
		RETURNF "吸血鬼"
	CASE 4
		RETURNF "河童"
	CASE 5
		RETURNF "天狗"
	CASE 6
		RETURNF "妖兽"
	CASE 7
		RETURNF "妖鸟"
	CASE 8
		RETURNF "妖虫"
	CASE 9
		RETURNF "恶魔"
	CASE 10
		RETURNF "小人"
	CASE 11
		RETURNF "座敷童子"
	CASE 12
		RETURNF "山童"
	CASEELSE
		RETURNF "名称不明（妖怪）"
	ENDSELECT
CASE GETNUM(TALENT, "妖精")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "妖精"
	CASEELSE
		RETURNF "名称不明（妖精）"
	ENDSELECT
CASE GETNUM(TALENT, "神霊")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "神灵"
	CASE 2
		RETURNF "死神"
	CASE 3
		RETURNF "阎魔"
	CASEELSE
		RETURNF "名称不明（神灵）"
	ENDSELECT
CASE GETNUM(TALENT, "幽霊")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "幽灵"
	CASE 2
		RETURNF "骚灵"
	CASE 3
		RETURNF "亡灵"
	CASE 4
		RETURNF "恶灵"
	CASEELSE
		RETURNF "名称不明（幽灵）"
	ENDSELECT
CASE GETNUM(TALENT, "付喪神")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "付丧神"
	CASEELSE
		RETURNF "名称不明（付丧神）"
	ENDSELECT
CASE GETNUM(TALENT, "人形")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "人形"
	CASE 2
		RETURNF "机械"
	CASE 3
		RETURNF "魔像"
	CASE 4
		RETURNF "埴轮"
	CASE 5
		RETURNF "僵尸"
	CASE 99
		RETURNF "人偶少女"
	CASEELSE
		RETURNF "名称不明（人形）"
	ENDSELECT
CASE GETNUM(TALENT, "追加種族")
	SELECTCASE TALENT:CHARA:ARG
	CASE 1
		RETURNF "巫女"
	CASE 2
		RETURNF "魔法使"
	CASE 3
		RETURNF "女仆"
	CASE 4
		RETURNF "蓬莱人"
	CASEELSE
		RETURNF "名称不明（追加种族）"
	ENDSELECT
ENDSELECT

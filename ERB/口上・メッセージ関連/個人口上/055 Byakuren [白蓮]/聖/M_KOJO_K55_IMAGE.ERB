;KOJO image functions for dialogue-specific conditions.
;If these return a value, it will override the default behavior from the IMAGE_IXX_ functions. Returning 0 will use the IMAGE_IXX_ functions as usual.

;-------------------------------------------------------------------------------------------
;キャラクター特有の服装表示条件
;エフェクトを共有する服装差分はこちらで指定する
;使用時注意点:
;	RESULTSに特殊服装を格納すること
;	書式は %服装%%特殊服装% 適宜"_"等入れること
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K55_特殊服装(ARGS,ARG,ARG:1)
VARSET RESULTS

IF CFLAG:差し替え適用
	;差し替え画像
	IF CHECK_NUDE(TARGET)
		;裸
		IF FLAG:立ち絵種類
			;顔絵
		ELSE
			;立ち絵
		ENDIF
	ELSE
		;服
		IF FLAG:立ち絵種類
		ELSE
			;立ち絵
			SIF TARGET == [[白蓮]] && TCVAR:350
				RETURN 1 ;only this one deviates from the general code
		ENDIF
	ENDIF
ELSE
	;通常画像
	IF CHECK_NUDE(TARGET)
		;裸
		IF FLAG:立ち絵種類
			;顔絵
		ELSE
			;立ち絵
		ENDIF
	ELSE
		;服
	ENDIF
ENDIF

;-------------------------------------------------------------------------------------------
;キャラクター特有の体形表示条件
;エフェクトを共有する体形差分はこちら
;服装を指定しても自動で表示されるので注意
;使用時注意点:
;	RESULTSに体形を格納すること
;	書式は %体形%%服装% 適宜"_"等入れること
;	"巨乳"は本編で実装済み %体形%巨乳%服装% で追記可能
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K55_体形(ARGS,ARG,ARG:1)
VARSET RESULTS
SIF TARGET == [[白蓮]] && TCVAR:350
	RETURN 1
IF CFLAG:差し替え適用
	;差し替え画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ELSE
	;通常画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ENDIF


;-------------------------------------------------------------------------------------------
;キャラクター特有の表情表示条件
;時間停止中でも維持する表情はこちら
;使用時注意点:
;	RESULTS:0に表情を格納
;	RESULTS:1にマウスオーバー時の表情を格納すること
;	"通常","笑顔","憤怒","発情","睡眠"は本編で実装済み
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K55_特殊表情(ARGS,ARG,ARG:1)

IF CFLAG:差し替え適用
	;差し替え画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSEIF TARGET == [[白蓮]] && TCVAR:350
		;立ち絵
		RESULTS:0 = 通常
		RESULTS:1 = 通常２
		RETURN 1
	ENDIF
ELSE
	;通常画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ENDIF

;-------------------------------------------------------------------------------------------
;直前のコマンドで変化するキャラクター特有の表情表示条件
;時間停止中は変化しない表情はこちら
;使用時注意点:
;	RESULTS:0に表情を格納
;	RESULTS:1にマウスオーバー時の表情を格納すること
;	"オナニー","愛撫","性交"は本編で実装済み
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K55_特殊表情COM(ARGS,ARG,ARG:1)
#DIM コマンド
コマンド = ARG
SIF TARGET == [[白蓮]] && TCVAR:350
	RETURN 1

IF CFLAG:差し替え適用
	;差し替え画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ELSE
	;通常画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ENDIF

;-------------------------------------------------------------------------------------------
;キャラクター特有の差分表示条件
;裸やエフェクトを共有しない画像はこちら
;使用時注意点:
;	RESULTSに差分を格納すること
;	書式は {CHARA}%差分% 適宜"_"等入れること
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K55_差分(ARGS,ARG,ARG:1)
VARSET RESULTS

IF CFLAG:差し替え適用
	;差し替え画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
		IF TARGET == [[白蓮]] && TCVAR:350 == (1 + CHECK_NUDE(TARGET))
			RESULTS = _指令
		ELSE
			TCVAR:350 = 0
		ENDIF
		RETURN 1
	ENDIF
ELSE
	;通常画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ENDIF

;-------------------------------------------------------------------------------------------
;キャラクター特有のエフェクト表示条件
;使用時注意点:
;	RESULTS配列に特殊エフェクトを格納
;	RETURNで追加するエフェクト数を返却すること
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K55_特殊エフェクト(ARGS,ARG,ARG:1)
#DIM DYNAMIC エフェクト数 = 0
VARSET RESULTS

IF CFLAG:差し替え適用
	;差し替え画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
		SIF TARGET == [[白蓮]] && TCVAR:350
			RETURN -1 ;block general code
	ENDIF
ELSE
	;通常画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ENDIF

RETURN エフェクト数

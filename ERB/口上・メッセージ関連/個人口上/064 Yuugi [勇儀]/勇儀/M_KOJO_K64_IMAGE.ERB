;KOJO image functions for dialogue-specific conditions.
;If these return a value, it will override the default behavior from the IMAGE_IXX_ functions. Returning 0 will use the IMAGE_IXX_ functions as usual.

;-------------------------------------------------------------------------------------------
;キャラクター特有の差分表示条件
;裸やエフェクトを共有しない画像はこちら
;使用時注意点:
;	RESULTSに差分を格納すること
;	書式は {CHARA}%差分% 適宜"_"等入れること
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K64_差分(ARGS,ARG,ARG:1)
VARSET RESULTS

IF CFLAG:差し替え適用 == 1
	;替换用画像
	IF (CFLAG:[[勇儀]]:1004 == 1) || (CFLAG:[[勇儀]]:1004 == 0 && CURRENT_CLOTHES_SET(TARGET) == 75)
		RESULTS = _黄昏
	ENDIF
	IF FLAG:立絵種類
		;顔絵
	ELSE
		;立絵
	ENDIF
ELSE
	IF (CFLAG:[[勇儀]]:1004 == 1) || (CFLAG:[[勇儀]]:1004 == 0 && CURRENT_CLOTHES_SET(TARGET) == 75)
		RESULTS = _黄昏
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------------------------------------------------
;キャラクター特有のエフェクト表示条件
;使用時注意点:
;	RESULTS配列に特殊エフェクトを格納
;	RETURNで追加するエフェクト数を返却すること
;-------------------------------------------------------------------------------------------
@M_KOJO_IMAGE_K64_特殊エフェクト(ARGS,ARG,ARG:1)
#DIM DYNAMIC エフェクト数 = 0
VARSET RESULTS

IF CFLAG:差し替え適用
	;差し替え画像
	IF FLAG:立ち絵種類
		;顔絵
	ELSE
		;立ち絵
	ENDIF
ELSE
	;通常画像
	IF FLAG:立ち絵種類
		;顔絵
		IF CFLAG:[[勇儀]]:1004 == 1 || (CFLAG:[[勇儀]]:1004 == 0 && CURRENT_CLOTHES_SET(TARGET) == 75)
			IF CFLAG:顔に精液
				;胸ぶっかけ
				RESULTS:エフェクト数 = 顔精液
				エフェクト数 += 1
			ENDIF
			IF CFLAG:口に精液
				;フェラ
				RESULTS:エフェクト数 = 胸精液
				エフェクト数 += 1
			ENDIF
		ENDIF
	ELSE
		;立ち絵
	ENDIF
ENDIF

RETURN エフェクト数

@DOKU_CHECK_TARGETNEED_IRAI_TO_TARGET(ARG)
#FUNCTIONS
#DIM IRAI_NUM
#DIM CHK_SLOT
VARSET LOCALS
IRAI_NUM = COUNT_IRAI_SLOT()
FOR CHK_SLOT, 1, IRAI_NUM + 1
	SELECTCASE IRAI_DATA:CHK_SLOT%1000
	CASE 4,6,8
	;传达/寻找失主/讨伐
		SIF IRAI_DATA:CHK_SLOT / 1000 == ARG
		LOCALS += @"{CHK_SLOT}/"
	CASEELSE
		CONTINUE
	ENDSELECT
NEXT
RETURNF LOCALS

@DOKU_CHECK_TYPE_EXIST_TARGETNEED_IRAI_TO_TARGET(ARG)
#FUNCTION
#DIM IRAI_NUM
#DIM CHK_SLOT
LOCAL = 0
IRAI_NUM = COUNT_IRAI_SLOT()
FOR CHK_SLOT, 1, IRAI_NUM + 1
SELECTCASE IRAI_DATA:CHK_SLOT%1000
	CASE 4
	;传达
		SIF IRAI_DATA:CHK_SLOT / 1000 == ARG
		SETBIT LOCAL,0
	CASE 6
	;寻找失主
		SIF IRAI_DATA:CHK_SLOT / 1000 == ARG
		SETBIT LOCAL,1
	CASE 8
	;讨伐
		SIF IRAI_DATA:CHK_SLOT / 1000 == ARG
		SETBIT LOCAL,2
	CASEELSE
		CONTINUE
ENDSELECT
NEXT
RETURNF LOCAL

@DOKU_SET_IRAI_COMPELETE(ARGS,ARG=3)
VARSET LOCALS
SPLIT ARGS,"/",LOCALS
LOCAL:1 = RESULT
SIF LOCAL <= 1
RETURN 0
FOR LOCAL,0,LOCAL:1-1
	LOCAL:1 = TOINT(LOCALS:LOCAL)
	SIF !DOKU_BETWEEN(LOCAL:1,0,9)
	CONTINUE
	LOCAL:1 = IRAI_CLIENT:(LOCAL:1)
	SIF !DOKU_BETWEEN(LOCAL:1,1,CHARANUM)
	CONTINUE
	CFLAG:(LOCAL:1):403 = ARG
NEXT
RETURN 0
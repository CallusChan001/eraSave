@DOKUPARSEE_LIST_TRY_GIVE_ITEM(ITEM_NUM,PRINT_TYPE,ARG:0=0,ARG:1=0,ARG:2=0,ARG:3=0,ARG:4=0,ARG:5=0,ARG:6=0,ARG:7=0,ARG:8=0)
#DIM ITEM_NUM
#DIM PRINT_TYPE
#DIM SUCCESS_GET_ITEM
#DIM CURRENT_ITEM_ID
#DIM FINAL_ITEM_ID
;ARG是尝试给物品的列表
;0 L W PLAIN,0 1 2 3
FINAL_ITEM_ID = -1
FOR CURRENT_ITEM_ID,0,8
SIF ARG:CURRENT_ITEM_ID == 0
CONTINUE
SIF ITEM:(ARG:CURRENT_ITEM_ID) >= 99
CONTINUE
FINAL_ITEM_ID = ARG:CURRENT_ITEM_ID
BREAK
NEXT
SUCCESS_GET_ITEM = (FINAL_ITEM_ID == -1)
IF FINAL_ITEM_ID != -1
IF ITEM:FINAL_ITEM_ID + ITEM_NUM >= 100
	CALL COLORMESSAGE(@"得到了{99 - ITEM:FINAL_ITEM_ID}个%ITEMNAME:FINAL_ITEM_ID%", C_YELLOW, PRINT_TYPE)
	ITEM:FINAL_ITEM_ID = MAX(ITEM:FINAL_ITEM_ID, 99)
ELSE
	CALL COLORMESSAGE(@"得到了{ITEM_NUM}个%ITEMNAME:FINAL_ITEM_ID%", C_YELLOW, PRINT_TYPE)
	ITEM:FINAL_ITEM_ID += ITEM_NUM
ENDIF
ENDIF
RETURN SUCCESS_GET_ITEM

@DOKU_GIVE_FAVOR(ARG,ARG:1,ARG:2 = 1)
CALLF DOKU_SL_COLOR("S")
SETCOLOR C_YELLOW
SIF ARG:1 <0
SETCOLOR C_RED
SIF ARG:1 == 0
ARG:2 = 0
CFLAG:ARG:2 += ARG:1
SIF ARG:2
PRINTFORML \@(ARG:1 >= 0) ? 好感度＋{ARG:1} # 好感度－{-ARG:1}\@
CALLF DOKU_SL_COLOR("L")
RETURN 0

@DOKU_GIVE_TRUST(ARG,ARG:1,ARG:2 = 1)
CALLF DOKU_SL_COLOR("S")
SETCOLOR C_YELLOW
SIF ARG:1 <0
SETCOLOR C_RED
SIF ARG:1 == 0
ARG:2 = 0
CFLAG:ARG:4 += ARG:1
SIF ARG:2
PRINTFORML \@(ARG:1 >= 0) ? 信賴度＋{ARG:1} # 信賴度－{-ARG:1}\@
CALLF DOKU_SL_COLOR("L")
RETURN 0

@DOKU_GIVE_BASE(ARG:0,ARG:1,ARG:2,ARG:3 = 1)
;ARG:0 目标
;ARG:1 BASE编号
;ARG:2 数值
;ARG:3 是否显示（默认显示）
BASE:(ARG:0):(ARG:1)=LIMIT(BASE:(ARG:0):(ARG:1)+ARG:2,0,MAXBASE:(ARG:0):(ARG:1))
SIF !ARG:3
RETURN 0
IF ARG:2 > 0
CALL COLORMESSAGE(@"%BASENAME:(ARG:1)%＋{ARG:2} （%CALLNAME:ARG%）",C_GREEN,1)
ELSEIF ARG:2 < 0
CALL COLORMESSAGE(@"%BASENAME:(ARG:1)%－{ABS(ARG:2)} （%CALLNAME:ARG%）",C_RED,1)
ENDIF

@DOKU_GIVE_HERO_HP(ARG:0,ARG:1,ARG:2 = 1)
;ARG:0体力ARG:1气力
;ARG:2显示与否默认显示
CALL DOKU_GIVE_BASE(0,0,ARG:0,ARG:2)
CALL DOKU_GIVE_BASE(0,1,ARG:1,ARG:2)
RETURN 0

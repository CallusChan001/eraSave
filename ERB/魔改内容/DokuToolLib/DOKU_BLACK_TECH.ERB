
@EVENTCOM
;探针，获取真实TARGET等信息
SIF DOKUDIM_TIME_BEFORE_MOVE() == TIME
RETURN 0
SIF DOKUDIM_HAS_EVENTTRAIN()
CALLF DOKUDIM_HAS_EVENTTRAIN(1,0)

CALLF DOKUDIM_TIME_BEFORE_MOVE(1,TIME)
CALLF DOKUDIM_PREVCOM(1,DOKUDIM_SELECTCOM())
CALLF DOKUDIM_REAL_TARGET(1,TARGET:0)
CALLF DOKUMESSPASS_EVENTCOM_TO_EVENTCOMEND(1,1)
RETURN 0

@DOKUMESSPASS_EVENTCOM_TO_EVENTCOMEND(ARG=0,ARG:1=0)
#FUNCTION
#LOCALSSIZE 1
#LOCALSIZE 1
SIF ARG
LOCAL = ARG:1
RETURNF LOCAL

@EVENTCOMEND
SIF !DOKUMESSPASS_EVENTCOM_TO_EVENTCOMEND()
RETURN 0
CALLF DOKUMESSPASS_EVENTCOM_TO_EVENTCOMEND(1,0)
RETURN 0
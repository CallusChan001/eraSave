;This function is tied to MESSAGE_EQUIP_COM11_TR
;It ensures the text doesn't go "Master did this, while Master did that", it should be "while he/she did that"
;ARG:1 is used in cases where you want to force he_she without there being an ongoing thing
@ONGOING_NAME(ARG, ARG:1 = 0)
#FUNCTIONS
IF (TEQUIP:吸乳头 && !GROUPMATCH(SELECTCOM,7,11,21,22,50, 350, 188)) || (TEQUIP:揉胸 && !GROUPMATCH(SELECTCOM,12,21,22,50, 350, 188))
	;This is the default, but, using ONGOING() you can instead have ", while" or " and " etc.
	SIF ARG == 0
		RETURNF @"当你"
	RETURNF @"当%HE_SHE_CN(ARG)%"
ENDIF
SIF ARG == 0
	RETURNF @"你"
RETURNF CALLNAME:ARG

;===================================================

;Genitive
@ONGOING_G(ARG)
#FUNCTIONS
#DIM ONGOING
SIF (TEQUIP:吸乳头 && !GROUPMATCH(SELECTCOM,7,11,21,22,50, 350, 188)) || (TEQUIP:揉胸 && !GROUPMATCH(SELECTCOM,12,21,22,50, 350, 188))
	RETURNF @"%HE_SHE_CN(ARG)%的"
RETURNF @"%CALLNAME:ARG%的"

;===================================================

;Pronoun
@ONGOING_P(ARG)
#FUNCTIONS
SIF (TEQUIP:吸乳头 && !GROUPMATCH(SELECTCOM,7,11,21,22,50, 350, 188)) || (TEQUIP:揉胸 && !GROUPMATCH(SELECTCOM,12,21,22,50, 350, 188))
	RETURNF HE_SHE_CN(ARG)
RETURNF @"%CALLNAME:ARG%"

;===================================================

;Returns true if there's a "Master fondles target's tits, as" or similar before it
@ONGOING()
#FUNCTION
SIF (TEQUIP:乳首吸い && !GROUPMATCH(SELECTCOM,7,11,21,22,50, 350, 188)) || (TEQUIP:胸揉み && !GROUPMATCH(SELECTCOM,12,21,22,50, 350, 188))
	RETURNF 1
RETURNF 0

;===================================================

;If it's fondling specifically
@ONGOING_FONDLE()
#FUNCTION
SIF TEQUIP:揉胸 && !GROUPMATCH(SELECTCOM,12,21,22,50, 350, 188)
	RETURNF 1
RETURNF 0

;===================================================

;If it's nipple sucking specifically
@ONGOING_NIPPLES()
#FUNCTION
SIF TEQUIP:吸乳头 && !GROUPMATCH(SELECTCOM,7,11,21,22,50, 350, 188)
	RETURNF 1
RETURNF 0

;===================================================

;Just ends the ongoing part and starts a new line
@ONGOING_END()
SIF ONGOING()
	PRINTL 。

;===================================================

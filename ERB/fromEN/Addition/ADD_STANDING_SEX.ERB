@CAN_STANDING_SEX(COM_ID)
#FUNCTION
#DIM COM_ID

SELECTCASE COM_ID
    CASE 60 TO 63, 79, 92, 93, 130, 131 ;missionary, doggy, inchling, give and receive
        RETURNF 1
    CASE 67 TO 70;, 83 ;lotus, thighjob
        SIF TALENT:PLAYER:体型 > TALENT:体型 ;taller than target
            RETURNF 1
        SIF TALENT:PLAYER:力持ち ;strong
            RETURNF 1
        RETURNF 0
    ; CASE 81, 82, 88 ;blowjob, titjob, vacuum blowjob
    ;     SIF TALENT:PLAYER:力持ち || TALENT:力持ち ;either party is strong enough
    ;         RETURNF 1
    ;     SIF TALENT:PLAYER:体型 - TALENT:体型 < 3 ;player isn't too tall
    ;         RETURNF 1
    ;     RETURNF 0
    ; CASE 132, 133 ;receive lotus
    ;     SIF TALENT:TARGET:体型 > TALENT:体型 ;taller than player
    ;         RETURNF 1
    ;     SIF TALENT:力持ち ;strong
    ;         RETURNF 1
    ;     RETURNF 0
    ; CASE 1 ;cunnilingus
    ;     SIF TALENT:体型 - TALENT:PLAYER:体型 < 3 ;character isn't too tall
    ;         RETURNF 1
    ;     SIF TALENT:PLAYER:力持ち || TALENT:力持ち ;either party is strong enough
    ;         RETURNF 1
    ;     RETURNF 0
ENDSELECT
RETURNF 0

@CAN_NORMAL_SEX(COM_ID)
#FUNCTION
#DIM COM_ID

SIF BEDROOM(CFLAG:MASTER:現在位置)
    RETURNF 1
SIF BATHROOM() && ITEM:プレイマット
    RETURNF 1
SIF OPENPLACE(CFLAG:MASTER:現在位置)
    RETURNF 1
SIF 休憩可(CFLAG:MASTER:現在位置)
    RETURNF 1

RETURNF 0

;returns standing version of pose if desired, otherwise normal
@NORMAL_OR_STANDING_POSE(COM_ID, POSE)
#FUNCTION
#DIM COM_ID
#DIM POSE
#DIM STANDING
STANDING = IS_STANDING_SEX(COM_ID)

SELECTCASE POSE
    CASE POSE_MISSIONARY, POSE_STANDING_MISSIONARY
        RETURNF STANDING ? POSE_STANDING_MISSIONARY # POSE_MISSIONARY
    CASE POSE_DOGGYSTYLE, POSE_STANDING_FROM_BEHIND
        RETURNF STANDING ? POSE_STANDING_FROM_BEHIND # POSE_DOGGYSTYLE
    CASE POSE_LOTUS, POSE_SUSPENDED_CONGRESS
        RETURNF STANDING ? POSE_SUSPENDED_CONGRESS # POSE_LOTUS
    CASE POSE_REVLOTUS, POSE_REV_SUSPENDED_CONGRESS
        RETURNF STANDING ? POSE_REV_SUSPENDED_CONGRESS # POSE_REVLOTUS
    CASE POSE_ONAHOLE, POSE_STANDING_ONAHOLE
        RETURNF STANDING ? POSE_STANDING_ONAHOLE # POSE_ONAHOLE
    CASEELSE
        RETURNF POSE
ENDSELECT

@CHECK_CLO(ARGS, ARG = -1)
#FUNCTION

SIF ARG == -1
	ARG = TARGET

SELECTCASE ARGS
	CASE "belly_visible"
	{
		RETURNF !EQUIP:ARG:上半身上着１ && !EQUIP:ARG:上半身上着２ && !EQUIP:ARG:外衣
			&& !EQUIP:ARG:着物 && !EQUIP:ARG:ワンピース && !EQUIP:ARG:レオタード && !EQUIP:ARG:ボディースーツ
	}
	CASE "bra_visible"
	{
		RETURNF !EQUIP:ARG:上半身上着１ && !EQUIP:ARG:上半身上着２ && !EQUIP:ARG:外衣
			&& !EQUIP:ARG:着物 && !EQUIP:ARG:ワンピース && !EQUIP:ARG:レオタード && !EQUIP:ARG:ボディースーツ
			&& (EQUIP:ARG:上半身下着１ || EQUIP:ARG:上半身下着２)
	}
	CASE "bra_overridden"
		LOCAL = CURRENT_CLOTHES_SET(ARG)
		IF LOCAL == 100
			RETURNF CFLAG:ARG:FAVORITE_OVERRIDE_UNDERWEAR
		ELSE
			RETURNF GET_INT(ARG, "衣装セット", LOCAL, "OVERRIDE_UNDERWEAR_TOP")
		ENDIF
	CASE "panties_overridden"
		LOCAL = CURRENT_CLOTHES_SET(ARG)
		IF LOCAL == 100
			RETURNF CFLAG:ARG:9128 ;FAVORITE_OVERRIDE_UNDERWEAR
		ELSE
			RETURNF GET_INT(ARG, "衣装セット", LOCAL, "OVERRIDE_UNDERWEAR_BOTTOM")
		ENDIF
ENDSELECT
RETURNF 0

@CHECK_PANTIES(ARGS, ARG = -1)
#FUNCTION
SIF ARG == -1
	ARG = TARGET

SELECTCASE ARGS
	CASE "can_pilfer"
		RETURNF EQUIP:ARG:0 && ARG && EQUIP:ARG:下半身下着２ != 0 && GET_INT(ARG, "下半身内衣_ずらし可能", EQUIP:ARG:下半身下着２, "收藏表示可能")
	CASE "can_shift_aside"
		RETURNF EQUIP:ARG:0 && ARG && EQUIP:ARG:下半身下着２ != 0 && GET_INT(ARG, "下半身内衣_ずらし可能", EQUIP:ARG:下半身下着２, "收藏表示可能")
ENDSELECT


@CURRENT_CLOTHES_SET(ARG)
#FUNCTION
SIF TCVAR:ARG:EVENT_CLOTHING_SET
	RETURNF TCVAR:ARG:EVENT_CLOTHING_SET
IF INRANGE(CFLAG:ARG:衣装一時変更, 1, 99)
	RETURNF CFLAG:ARG:衣装一時変更
ELSEIF CFLAG:ARG:衣装一時変更 == 100
	IF CHECK_NUDE(ARG)
		IF CFLAG:ARG:(600 + [[ボディースーツ]]) == GET_INT(ARG, "衣装セット", 64, "ボディースーツ")
			RETURNF 64
		ELSEIF CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 55, "レオタード")
			RETURNF 55
		ELSEIF CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 66, "レオタード")
			RETURNF 66
		;ELSEIF CFLAG:ARG:(600 + [[上身衣服１]]) == 5
		;	RETURNF 101
		ENDIF
	ENDIF
	IF EQUIP:ARG:ボディースーツ
		;骑行服
		IF EQUIP:ARG:ボディースーツ == GET_INT(ARG, "衣装セット", 64, "ボディースーツ") || CFLAG:ARG:(600 + [[ボディースーツ]]) == GET_INT(ARG, "衣装セット", 64, "ボディースーツ")
			RETURNF 64
		;战斗服
		ELSEIF EQUIP:ARG:ボディースーツ == GET_INT(ARG, "衣装セット", 126, "ボディースーツ") || CFLAG:ARG:(600 + [[ボディースーツ]]) == GET_INT(ARG, "衣装セット", 126, "ボディースーツ")
			RETURNF 126
		ELSEIF EQUIP:ARG:ボディースーツ == GET_INT(ARG, "衣装セット", 127, "ボディースーツ") || CFLAG:ARG:(600 + [[ボディースーツ]]) == GET_INT(ARG, "衣装セット", 127, "ボディースーツ")
			RETURNF 127
		ENDIF
	ENDIF
	IF EQUIP:ARG:レオタード
		IF EQUIP:ARG:レオタード == GET_INT(ARG, "衣装セット", 45, "レオタード") || CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 45, "レオタード")
			RETURNF 45
		ELSEIF EQUIP:ARG:レオタード == GET_INT(ARG, "衣装セット", 46, "レオタード") || CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 46, "レオタード")
			RETURNF 46
		ELSEIF EQUIP:ARG:レオタード == GET_INT(ARG, "衣装セット", 55, "レオタード") || CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 55, "レオタード")
			RETURNF 55
		ELSEIF EQUIP:ARG:レオタード == GET_INT(ARG, "衣装セット", 66, "レオタード") || CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 66, "レオタード")
			RETURNF 66
		ELSEIF EQUIP:ARG:レオタード == GET_INT(ARG, "衣装セット", 121, "レオタード") || CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 121, "レオタード")
			RETURNF 121
		ELSEIF EQUIP:ARG:レオタード == GET_INT(ARG, "衣装セット", 123, "レオタード") || CFLAG:ARG:(600 + [[レオタード]]) == GET_INT(ARG, "衣装セット", 123, "レオタード")
			RETURNF 123
		ENDIF
	ENDIF
	IF EQUIP:ARG:裙子
		IF EQUIP:ARG:飾品 == GET_INT(ARG, "衣装セット", 14, "飾品") && EQUIP:ARG:上身衣服１ == GET_INT(ARG, "衣装セット", 14, "上身衣服１")
			RETURNF [[白狼天狗セット]]
		ELSEIF EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", [[圣诞套]], "帽子") && EQUIP:ARG:上身衣服２ == GET_INT(ARG, "衣装セット", [[圣诞套]], "上身衣服２") && EQUIP:ARG:裙子 == GET_INT(ARG, "衣装セット", [[圣诞套]], "裙子")
			RETURNF [[圣诞套]]
		ELSEIF EQUIP:ARG:裙子 == GET_INT(ARG, "衣装セット", 62, "裙子") && EQUIP:ARG:上身衣服２ == GET_INT(ARG, "衣装セット", 62, "上身衣服２")
			RETURNF 62
		ELSEIF EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", 74, "帽子") && EQUIP:ARG:上身衣服１ == GET_INT(ARG, "衣装セット", 74, "上身衣服１")
			RETURNF 74
		ELSEIF EQUIP:ARG:裙子 == GET_INT(ARG, "衣装セット", [[舞娘套装]], "裙子") && EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", [[舞娘套装]], "帽子") && EQUIP:ARG:上身衣服１ == GET_INT(ARG, "衣装セット", [[舞娘套装]], "上身衣服１")
			RETURNF [[舞娘套装]]
		ELSEIF EQUIP:ARG:裙子 == GET_INT(ARG, "衣装セット", 122, "裙子") && EQUIP:ARG:外搭 == GET_INT(ARG, "衣装セット", 122, "外搭")
			RETURNF 122
		ELSEIF EQUIP:ARG:裙子 == GET_INT(ARG, "衣装セット", 124, "裙子") && EQUIP:ARG:上身衣服２ == GET_INT(ARG, "衣装セット", 124, "上身衣服２")
			RETURNF 124
		ELSEIF EQUIP:ARG:裙子 == GET_INT(ARG, "衣装セット", 125, "裙子") && EQUIP:ARG:上身衣服２ == GET_INT(ARG, "衣装セット", 125, "上身衣服２")
			RETURNF 125
		ENDIF
	ENDIF
	IF EQUIP:ARG:連衣裙
		;外出女仆服
		IF EQUIP:ARG:外搭 == GET_INT(ARG, "衣装セット", 76, "外搭") && EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 76, "連衣裙")
			RETURNF 76
		ELSEIF EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", [[女僕装]], "連衣裙")
			RETURNF [[女僕装]]
		;鸟兽伎乐
		ELSEIF EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 77, "連衣裙")
			RETURNF 77
		;睡袍
		ELSEIF EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 32, "連衣裙")
			RETURNF 32
		;吊带衬裙
		ELSEIF EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 33, "連衣裙")
			RETURNF 33
		ELSEIF EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", [[修女服]], "連衣裙")
			RETURNF [[修女服]]
		;婚纱
		ELSEIF EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 61, "連衣裙")
			RETURNF 61
		ELSEIF EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 56, "連衣裙")
			RETURNF 56
		ELSEIF EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", 55, "帽子") && EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 55, "連衣裙")
			RETURNF 55
		ELSEIF EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", 51, "帽子") && EQUIP:ARG:連衣裙 == GET_INT(ARG, "衣装セット", 51, "連衣裙")
			RETURNF 51
		ENDIF
	ENDIF
	IF EQUIP:ARG:裤子
		IF EQUIP:ARG:上身衣服２ == GET_INT(ARG, "衣装セット", 88, "上身衣服２") && EQUIP:ARG:裤子 == GET_INT(ARG, "衣装セット", 88, "裤子")
			RETURNF 88
		ELSEIF EQUIP:ARG:上身衣服２ == GET_INT(ARG, "衣装セット", 70, "上身衣服２") && EQUIP:ARG:裤子 == GET_INT(ARG, "衣装セット", 70, "裤子")
			RETURNF 70
		ENDIF
	ENDIF
	IF EQUIP:ARG:和服
		IF EQUIP:ARG:和服 == GET_INT(ARG, "衣装セット", 75, "和服") && EQUIP:ARG:飾品 == GET_INT(ARG, "衣装セット", 75, "飾品")
			RETURNF 75
		ELSEIF EQUIP:ARG:和服 == GET_INT(ARG, "衣装セット", 71, "和服") && EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", 71, "帽子")
			RETURNF 71
		ELSEIF EQUIP:ARG:和服 == GET_INT(ARG, "衣装セット", 89, "和服") && EQUIP:ARG:飾品 == GET_INT(ARG, "衣装セット", 89, "飾品")
			RETURNF 89
		ELSEIF EQUIP:ARG:和服 == GET_INT(ARG, "衣装セット", 90, "和服") && EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", 90, "帽子")
			RETURNF 90
		ELSEIF EQUIP:ARG:和服 == GET_INT(ARG, "衣装セット", 92, "和服") && EQUIP:ARG:帽子 == GET_INT(ARG, "衣装セット", 92, "帽子")
			RETURNF 92
		ENDIF
	ENDIF
	IF EQUIP:ARG:上半身内衣１
		IF EQUIP:ARG:飾品 == GET_INT(ARG, "衣装セット", 120, "飾品")
			RETURNF 120
		ELSEIF 0
			RETURNF 0
		ENDIF

	ENDIF
ENDIF

RETURNF CFLAG:ARG:基本服装セット
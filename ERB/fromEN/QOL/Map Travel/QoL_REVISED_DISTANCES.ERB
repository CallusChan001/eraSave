;GET_BASE_DISTANCE 如果启用，只返回两个区域之间的基础距离，不带修正值
;RESULT:1 如果设为1，则路线危险
;RESULT:2 包含到达目的地所经过的地点数量
;@QOL_DISTANCE(DEPARTURE, DESTINATION, ALLOW_DANGEROUS, GET_BASE_DISTANCE)
@QOL_REVISED_DISTANCE(DEPARTURE, DESTINATION, ALLOW_DANGEROUS)
#FUNCTION
#DIM DEPARTURE
#DIM DESTINATION
#DIM ALLOW_DANGEROUS
#DIM GET_BASE_DISTANCE
RESULT:1 = 0
RESULT:2 = 0
;SIF UsingFarskip(MASTER)
;    ALLOW_DANGEROUS = 1

SELECTCASE DEPARTURE
	CASE 0
		RETURNF QOL_DISTANCE_REVISED0(DESTINATION, ALLOW_DANGEROUS)
	CASE 1
		RETURNF QOL_DISTANCE_REVISED1(DESTINATION, ALLOW_DANGEROUS)
	CASE 2
		RETURNF QOL_DISTANCE_REVISED2(DESTINATION, ALLOW_DANGEROUS)
	CASE 3
		RETURNF QOL_DISTANCE_REVISED3(DESTINATION, ALLOW_DANGEROUS)
	CASE 4
		RETURNF QOL_DISTANCE_REVISED4(DESTINATION, ALLOW_DANGEROUS)
	CASE 5
		RETURNF QOL_DISTANCE_REVISED5(DESTINATION, ALLOW_DANGEROUS)
	CASE 6
		RETURNF QOL_DISTANCE_REVISED6(DESTINATION, ALLOW_DANGEROUS)
	CASE 7
		RETURNF QOL_DISTANCE_REVISED7(DESTINATION, ALLOW_DANGEROUS)
	CASE 8
		RETURNF QOL_DISTANCE_REVISED8(DESTINATION, ALLOW_DANGEROUS)
	CASE 9
		RETURNF QOL_DISTANCE_REVISED9(DESTINATION, ALLOW_DANGEROUS)
	CASE 10
		RETURNF QOL_DISTANCE_REVISED10(DESTINATION, ALLOW_DANGEROUS)
	CASE 11
		RETURNF QOL_DISTANCE_REVISED11(DESTINATION, ALLOW_DANGEROUS)
	;CASE 18
	;	RETURNF QOL_DISTANCE_REVISED18(DESTINATION, ALLOW_DANGEROUS)
	;CASE PlayerLandID
	;	RETURNF QOL_DISTANCE_REVISED19(DESTINATION, ALLOW_DANGEROUS)
	CASEELSE
		THROW No distance found for departure point {DEPARTURE}
ENDSELECT

@QOL_DISTANCE_REVISED0(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RETURNF 0
    CASE MAP寺
        RESULT:2 = 2
        RETURNF 30
    CASE MAP里
        RESULT:2 = 1
        RETURNF 20
    CASE MAP湖
        RESULT:2 = 1
        RETURNF 40
    CASE MAP竹林
        RESULT:2 = 2
        RETURNF 40
    CASE MAP森
        RESULT:2 = 2
        RETURNF 50
    CASE MAP冥界
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 2
            RETURNF 50
        ELSE
            RESULT:2 = 3
            RETURNF 70
        ENDIF
    CASE MAP山麓
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 40
        ELSE
            RETURNF 70
        ENDIF
    CASE MAP山頂
        RESULT:2 = 3
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 60
        ELSE
            RETURNF 90
        ENDIF
    CASE MAP地底
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 20
        ELSE
            RETURNF 40
        ENDIF
    CASE MAP月
        RESULT:2 = 4
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 80
        ELSE
            RETURNF 110
        ENDIF
	CASE 11
		RETURNF 0
	CASE PlayerLandID
        RESULT:2 = 1
		RETURNF 25
ENDSELECT

@QOL_DISTANCE_REVISED1(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 2
        RETURNF 30
    CASE MAP寺
        RETURNF 0
    CASE MAP里
        RESULT:2 = 1
        RETURNF 10
    CASE MAP湖
        RESULT:2 = 2
        RETURNF 40
    CASE MAP竹林
        RESULT:2 = 1
        RETURNF 20
    CASE MAP森
        RESULT:2 = 2
        RETURNF 40
    CASE MAP冥界
        RESULT:2 = 3
        RETURNF 60
    CASE MAP山麓
        RESULT:2 = 3
        RETURNF 70
    CASE MAP山頂
        RESULT:2 = 4
        RETURNF 90
    CASE MAP地底
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 50
        ELSE
            RETURNF 70
        ENDIF
    CASE MAP月
        RESULT:2 = 5
        RETURNF 110
	CASE 11
        RESULT:2 = 2
		RETURNF 30
	CASE PlayerLandID
        RESULT:2 = 1
		RETURNF 15
ENDSELECT

@QOL_DISTANCE_REVISED2(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 1
        RETURNF 20
    CASE MAP寺
        RESULT:2 = 1
        RETURNF 10
    CASE MAP里
        RETURNF 0
    CASE MAP湖
        RESULT:2 = 1
        RETURNF 30
    CASE MAP竹林
        RESULT:2 = 1
        RETURNF 20
    CASE MAP森
        RESULT:2 = 1
        RETURNF 30
    CASE MAP冥界
        RESULT:2 = 2
        RETURNF 50
    CASE MAP山麓
        RESULT:2 = 2
        RETURNF 60
    CASE MAP山頂
        RESULT:2 = 3
        RETURNF 80
    CASE MAP地底
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 40
        ELSE
            RETURNF 60
        ENDIF
    CASE MAP月
        RESULT:2 = 4
        RETURNF 100
	CASE 11
        RESULT:2 = 1
		RETURNF 20
	CASE PlayerLandID
		RETURNF 5
ENDSELECT

@QOL_DISTANCE_REVISED3(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 1
        RETURNF 40
    CASE MAP寺
        RESULT:2 = 2
        RETURNF 40
    CASE MAP里
        RESULT:2 = 1
        RETURNF 30
    CASE MAP湖
        RETURNF 0
    CASE MAP竹林
        RESULT:2 = 2
        RETURNF 50
    CASE MAP森
        RESULT:2 = 1
        RETURNF 30
    CASE MAP冥界
        RESULT:2 = 2
        RETURNF 50
    CASE MAP山麓
        RESULT:2 = 1
        RETURNF 30
    CASE MAP山頂
        RESULT:2 = 2
        RETURNF 50
    CASE MAP地底
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 50
        ELSE
            RETURNF 70
        ENDIF
    CASE MAP月
        RESULT:2 = 3
        RETURNF 70
	CASE 11
        RESULT:2 = 3
		RETURNF 50
	CASE PlayerLandID
        RESULT:2 = 1
		RETURNF 35
ENDSELECT

@QOL_DISTANCE_REVISED4(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 2
        RETURNF 40
    CASE MAP寺
        RESULT:2 = 1
        RETURNF 20
    CASE MAP里
        RESULT:2 = 1
        RETURNF 20
    CASE MAP湖
        RESULT:2 = 2
        RETURNF 50
    CASE MAP竹林
        RETURNF 0
    CASE MAP森
        RESULT:2 = 2
        RETURNF 50
    CASE MAP冥界
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 2
            RETURNF 60
        ELSE
            RESULT:2 = 3
            RETURNF 70
        ENDIF
    CASE MAP山麓
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 2
            RETURNF 50
        ELSE
            RESULT:2 = 3
            RETURNF 80
        ENDIF
    CASE MAP山頂
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 3
            RETURNF 70
        ELSE
            RESULT:2 = 4
            RETURNF 100
        ENDIF
    CASE MAP地底
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 30
        ELSE
            RETURNF 50
        ENDIF
    CASE MAP月
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 4
            RETURNF 90
        ELSE
            RESULT:2 = 5
            RETURNF 120
        ENDIF
	CASE 11
        RESULT:2 = 3
		RETURNF 45
	CASE PlayerLandID
        RESULT:2 = 2
		RETURNF 25
ENDSELECT

@QOL_DISTANCE_REVISED5(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 2
        RETURNF 50
    CASE MAP寺
        RESULT:2 = 2
        RETURNF 40
    CASE MAP里
        RESULT:2 = 1
        RETURNF 30
    CASE MAP湖
        RESULT:2 = 1
        RETURNF 30
    CASE MAP竹林
        RESULT:2 = 2
        RETURNF 50
    CASE MAP森
        RETURNF 0
    CASE MAP冥界
        RESULT:2 = 1
        RETURNF 20
    CASE MAP山麓
        RESULT:2 = 1
        RETURNF 50
    CASE MAP山頂
        RESULT:2 = 3
        RETURNF 70
    CASE MAP地底
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 30
        ELSE
            RETURNF 50
        ENDIF
    CASE MAP月
        RESULT:2 = 4
        RETURNF 90
	CASE 11
        RESULT:2 = 3
		RETURNF 55
	CASE PlayerLandID
        RESULT:2 = 1
		RETURNF 35
ENDSELECT

@QOL_DISTANCE_REVISED6(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 2
            RETURNF 50
        ELSE
            RESULT:2 = 3
            RETURNF 70
        ENDIF
    CASE MAP寺
        RESULT:2 = 3
        RETURNF 60
    CASE MAP里
        RESULT:2 = 2
        RETURNF 50
    CASE MAP湖
        RESULT:2 = 2
        RETURNF 50
    CASE MAP竹林
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 2
            RETURNF 60
        ELSE
            RESULT:2 = 3
            RETURNF 70
        ENDIF
    CASE MAP森
        RESULT:2 = 1
        RETURNF 20
    CASE MAP冥界
        RETURNF 0
    CASE MAP山麓
        RESULT:2 = 1
        RETURNF 30
    CASE MAP山頂
        RESULT:2 = 2
        RETURNF 50
    CASE MAP地底
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 30
        ELSE
            RETURNF 50
        ENDIF
    CASE MAP月
        RESULT:2 = 3
        RETURNF 70
	CASE 11
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 3
            RETURNF 55
        ELSE
            RESULT:2 = 4
            RETURNF 75
        ENDIF
	CASE PlayerLandID
        RESULT:2 = 2
		RETURNF 55
ENDSELECT

@QOL_DISTANCE_REVISED7(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 40
        ELSE
            RETURNF 70
        ENDIF
    CASE MAP寺
        RESULT:2 = 3
        RETURNF 70
    CASE MAP里
        RESULT:2 = 2
        RETURNF 60
    CASE MAP湖
        RESULT:2 = 1
        RETURNF 30
    CASE MAP竹林
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 2
            RETURNF 50
        ELSE
            RESULT:2 = 3
            RETURNF 80
        ENDIF
    CASE MAP森
        RESULT:2 = 1
        RETURNF 50
    CASE MAP冥界
        RESULT:2 = 1
        RETURNF 30
    CASE MAP山麓
        RETURNF 0
    CASE MAP山頂
        RESULT:2 = 1
        RETURNF 20
    CASE MAP地底
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 20
        ELSE
            RETURNF 40
        ENDIF
    CASE MAP月
        RESULT:2 = 2
        RETURNF 40
	CASE 11
        RESULT:2 = 3
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 45
        ELSE
            RETURNF 75
        ENDIF
	CASE PlayerLandID
        RESULT:2 = 2
		RETURNF 65
ENDSELECT

@QOL_DISTANCE_REVISED8(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 3
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 60
        ELSE
            RETURNF 90
        ENDIF
    CASE MAP寺
        RESULT:2 = 4
        RETURNF 90
    CASE MAP里
        RESULT:2 = 3
        RETURNF 80
    CASE MAP湖
        RESULT:2 = 2
        RETURNF 50
    CASE MAP竹林
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 3
            RETURNF 70
        ELSE
            RESULT:2 = 4
            RETURNF 100
        ENDIF
    CASE MAP森
        RESULT:2 = 2
        RETURNF 70
    CASE MAP冥界
        RESULT:2 = 2
        RETURNF 50
    CASE MAP山麓
        RESULT:2 = 1
        RETURNF 20
    CASE MAP山頂
        RETURNF 0
    CASE MAP地底
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 40
        ELSE
            RETURNF 60
        ENDIF
    CASE MAP月
        RESULT:2 = 1
        RETURNF 20
	CASE 11
        RESULT:2 = 4
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 65
        ELSE
            RETURNF 95
        ENDIF
	CASE PlayerLandID
        RESULT:2 = 3
		RETURNF 85
ENDSELECT

@QOL_DISTANCE_REVISED9(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 20
        ELSE
            RETURNF 40
        ENDIF
    CASE MAP寺
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 50
        ELSE
            RETURNF 70
        ENDIF
    CASE MAP里
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 40
        ELSE
            RETURNF 60
        ENDIF
    CASE MAP湖
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 50
        ELSE
            RETURNF 70
        ENDIF
    CASE MAP竹林
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 30
        ELSE
            RETURNF 50
        ENDIF
    CASE MAP森
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 30
        ELSE
            RETURNF 50
        ENDIF
    CASE MAP冥界
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 30
        ELSE
            RETURNF 50
        ENDIF
    CASE MAP山麓
        RESULT:2 = 1
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 20
        ELSE
            RETURNF 40
        ENDIF
    CASE MAP山頂
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 40
        ELSE
            RETURNF 60
        ENDIF
    CASE MAP地底
        RETURNF 0
    CASE MAP月
        RESULT:2 = 3
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 60
        ELSE
            RETURNF 80
        ENDIF
	CASE 11
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 25
        ELSE
            RETURNF 45
        ENDIF
	CASE PlayerLandID
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 45
        ELSE
            RETURNF 65
        ENDIF
ENDSELECT

@QOL_DISTANCE_REVISED10(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 4
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 80
        ELSE
            RETURNF 110
        ENDIF
    CASE MAP寺
        RESULT:2 = 5
        RETURNF 110
    CASE MAP里
        RESULT:2 = 4
        RETURNF 100
    CASE MAP湖
        RESULT:2 = 3
        RETURNF 70
    CASE MAP竹林
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RESULT:2 = 4
            RETURNF 90
        ELSE
            RESULT:2 = 5
            RETURNF 120
        ENDIF
    CASE MAP森
        RESULT:2 = 3
        RETURNF 90
    CASE MAP冥界
        RESULT:2 = 3
        RETURNF 70
    CASE MAP山麓
        RESULT:2 = 2
        RETURNF 40
    CASE MAP山頂
        RESULT:2 = 1
        RETURNF 20
    CASE MAP地底
        RESULT:2 = 3
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 60
        ELSE
            RETURNF 80
        ENDIF
    CASE MAP月
        RETURNF 0
	CASE 11
        RESULT:2 = 5
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 85
        ELSE
            RETURNF 120
        ENDIF
	CASE PlayerLandID
        RESULT:2 = 5
		RETURNF 105
ENDSELECT

;-----------------------------------------------------------
;Makai
;-----------------------------------------------------------
@QOL_DISTANCE_REVISED11(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RETURNF 0
    CASE MAP寺
        RETURNF 0
    CASE MAP里
        RETURNF 0
    CASE MAP湖
        RETURNF 0
    CASE MAP竹林
        RETURNF 0
    CASE MAP森
        RETURNF 0
    CASE MAP冥界
        RETURNF 0
    CASE MAP山麓
        RETURNF 0
    CASE MAP山頂
        RETURNF 0
    CASE MAP地底
        RETURNF 0
    CASE MAP月
        RETURNF 0
	CASE 11
        RETURNF 0
	CASE PlayerLandID
        RETURNF 0
ENDSELECT
[SKIPSTART]
;-----------------------------------------------------------
;Lucid Realm
;-----------------------------------------------------------
@QOL_DISTANCE_REVISED18(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RETURNF 0
    CASE MAP寺
        RETURNF 0
    CASE MAP里
        ;EASYBATTLE
        IF SaveIsEZB
        RETURNF 30
        ELSE
        RETURNF 0
        ENDIF
    CASE MAP湖
        RETURNF 0
    CASE MAP竹林
        RETURNF 0
    CASE MAP森
        RETURNF 0
    CASE MAP冥界
        RETURNF 0
    CASE MAP山麓
        RETURNF 0
    CASE MAP山頂
        RETURNF 0
    CASE MAP地底
        RETURNF 0
    CASE MAP月
        RETURNF 0
	CASE 11
        RETURNF 0
	CASE PlayerLandID
        RETURNF 0
ENDSELECT

;-----------------------------------------------------------
;Player's Land
;-----------------------------------------------------------
@QOL_DISTANCE_REVISED19(ARG, ALLOW_DANGEROUS)
#FUNCTION
#DIM ALLOW_DANGEROUS
SELECTCASE ARG
    CASE MAP神社
        RESULT:2 = 1
        RETURNF 25
    CASE MAP寺
        RESULT:2 = 1
        RETURNF 15
    CASE MAP里
        RETURNF 5
    CASE MAP湖
        RESULT:2 = 1
        RETURNF 35
    CASE MAP竹林
        RESULT:2 = 1
        RETURNF 25
    CASE MAP森
        RESULT:2 = 1
        RETURNF 35
    CASE MAP冥界
        RESULT:2 = 2
        RETURNF 55
    CASE MAP山麓
        RESULT:2 = 2
        RETURNF 65
    CASE MAP山頂
        RESULT:2 = 3
        RETURNF 85
    CASE MAP地底
        RESULT:2 = 2
        IF ALLOW_DANGEROUS
            RESULT:1 = 1
            RETURNF 45
        ELSE
            RETURNF 65
        ENDIF
    CASE MAP月
        RESULT:2 = 4
        RETURNF 105
	CASE 11
        RESULT:2 = 1
		RETURNF 25
	CASE 19
		RETURNF 0
ENDSELECT
[SKIPEND]
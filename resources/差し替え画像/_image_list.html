<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image List</title>
    <style>
        /* ç°æœ‰çš„ CSS æ ·å¼ï¼Œä¿æŒä¸å˜ */
        :root {
            font-size: 20px;
        }

        body {
            display: grid;
            place-items: center;
            background-color: #f5f5dc;
            transition: background-color 0.3s ease;
        }

        body.night-mode {
            background-color: #333;
        }

        * {
            margin: 0;
            padding: 0;
        }

        ul {
            display: grid;
            place-items: center;
            gap: 0rem; /* å»é™¤ ul çš„ gapï¼Œå®ç°æ— é—´éš” */
        }

        li {
            list-style: none;
            min-height: auto;
            width: 100%;
            display: block; /* ç¡®ä¿ li å æ®æ•´è¡Œ */
            margin: 0;
            padding: 0;
        }

        body.night-mode li { /* å¤œé—´æ¨¡å¼ä¸‹ li çš„æ ·å¼ï¼Œç›®å‰ä¸ºç©º */ }

        img {
            max-width: 100%;
            display: block; /* ç§»é™¤å›¾ç‰‡ä¸‹æ–¹é—´éš™ */
            border-radius: 0;
            margin-left: auto;
            margin-right: auto;
        }

        #toolBar {
            font-size: 0.7rem;
            height: auto;
            line-height: 2em;
            display: flex;
            /* ä¿®æ”¹ justify-content ä¸º centerï¼Œä½¿å†…å®¹å±…ä¸­ */
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem 0.5rem; /* å¢åŠ ä¸€äº›é¡¶éƒ¨å’Œåº•éƒ¨çš„ paddingï¼Œè®©å·¥å…·æ æ˜¾å¾—æ›´èˆ’å±• */
            flex-wrap: wrap;
            gap: 1rem; /* å¢åŠ ä¸€äº› gapï¼Œè®©å·¥å…·æ å…ƒç´ ä¹‹é—´æ›´å®½æ¾ */
            box-sizing: border-box;
            width: 100%;
            max-width: 40rem;
            background-color: #f0f0e0;
            border-radius: 0.5rem;
        }

        body.night-mode #toolBar {
            background-color: #222; /* æˆ–è€…å…¶ä»–é€‚åˆå¤œé—´æ¨¡å¼çš„é¢œè‰² */
            color: #eee; /* åŒæ—¶æ›´æ”¹æ–‡å­—é¢œè‰²ï¼Œä»¥ä¾¿åœ¨æ·±è‰²èƒŒæ™¯ä¸‹å¯è§ */
        }

        #toolBar > div:first-child {
            flex-grow: 0; /* ä¿®æ”¹ flex-grow ä¸º 0ï¼Œé¿å…æ»‘å—å æ®è¿‡å¤šç©ºé—´ */
            min-width: 24rem;
            display: flex;
            align-items: center;
            gap: 0.75rem; /* ç¨å¾®å¢åŠ æ»‘å—å’Œç™¾åˆ†æ¯”æ–‡å­—ä¹‹é—´çš„é—´è· */
        }

        #toolBar > div:last-child {
            display: flex;
            gap: 0.5rem; /* ç¨å¾®å¢åŠ æŒ‰é’®ä¹‹é—´çš„é—´è· */
            align-items: center;
        }

        #toolBar input[type="range"] {
            width: 50%;
            min-width: 5rem;
            vertical-align: middle;
        }

        #vpPercent {
            display: inline-block;
            padding: 0.2em 0.5em;
            border-radius: 1em;
            background-color: #e0e0c8; /* ç±³ç™½è‰²ç¨æ·± */
            color: #333;
            font-size: 0.7rem;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            font-family: sans-serif; /* æ— è¡¬çº¿å­—ä½“ */
            font-weight: bold; /* ç²—ä½“ */
        }

        body.night-mode #vpPercent {
            background-color: #4a4a4a; /* ç°é»‘è‰²ç¨æ·± */
            color: #eee;
        }


        #nightModeIcon {
            font-size: 1.2rem;
            cursor: pointer;
            user-select: none;
        }

        #nightModeIcon {
            color: #333;
            transition: color 0.3s ease;
        }

        body.night-mode #nightModeIcon {
            color: #eee;
        }

        /*  åŒé¡µæ¨¡å¼ CSS æ ·å¼ (ä¿ç•™) */
        body.double-page-mode ul {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /*  ä¸¤åˆ—å¸ƒå±€  */
            grid-gap: 0rem; /*  ç§»é™¤å›¾ç‰‡é—´è· */
        }

        body.double-page-mode li {
            width: 100%; /*  ç¡®ä¿ li å æ®ç½‘æ ¼å•å…ƒçš„å®½åº¦  */
        }

        /*  æ–°çš„ç©ºç™½é¡µæ¨¡å¼ CSS æ ·å¼  */
        body.blank-page-mode ul {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /*  ä¸¤åˆ—å¸ƒå±€ */
            grid-gap: 0rem; /*  ç§»é™¤å›¾ç‰‡é—´è· */
        }


        body.blank-page-mode ul > li:first-child {
            grid-column: 1 / span 2; /*  è®©ç¬¬ä¸€å¼  li å æ®ä¸¤åˆ—çš„å®½åº¦ */
            margin-left: 50%; /* å°†ç¬¬ä¸€å¼ å›¾çš„ li æ•´ä½“å‘å³ç§»åŠ¨ 50% çš„å®½åº¦ */
            box-sizing: border-box; /* ç¡®ä¿ padding å’Œ border ä¸ä¼šå¢åŠ å…ƒç´ æ€»å®½åº¦ */
            padding-left: 0%; /*  æŠµæ¶ˆ margin-left çš„å½±å“ï¼Œè®©å›¾ç‰‡å†…å®¹ä»å·¦ä¾§å¼€å§‹ */
        }

        body.blank-page-mode ul > li:first-child > img {
            width: 100%; /*  ç¡®ä¿å›¾ç‰‡å®½åº¦ä¸è¶…è¿‡å®¹å™¨å®½åº¦ */
            max-width: 100%; /*  é˜²æ­¢å›¾ç‰‡è¶…å‡ºçˆ¶å…ƒç´  */
            margin-left: -50%; /*  å°†å›¾ç‰‡å†…å®¹å‘å·¦æ‹‰å› 50%ï¼Œå®ç°å·¦ä¾§ç©ºç™½é¡µæ•ˆæœ */
            display: block; /* ç§»é™¤å›¾ç‰‡ä¸‹æ–¹é—´éš™ */
        }


        #bookPageIcon {
            font-size: 1.2rem;
            cursor: pointer;
            user-select: none;
            color: #333;
            transition: color 0.3s ease;
        }

        body.night-mode #bookPageIcon {
            color: #eee;
        }


    </style>
</head>
<body>
    <div id="toolBar">
        <div>
            <input type="range" value="100" min="0" max="100" onchange="setVp(this.value)" oninput="showVp(this.value)" />
            <span id="vpPercent">100%</span>
        </div>
        <div>
            <span id="nightModeIcon">ğŸ’¡</span>
            <span id="bookPageIcon">ğŸ“–</span>  <!--  æ·»åŠ ä¹¦é¡µæ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼Œåˆå§‹å›¾æ ‡ä¸ºå•é¡µæ¨¡å¼  -->
        </div>
    </div>
    <ul id="list" style="width: 100%">
        <li><img src="1_åˆ¥é¡”.webp" alt="1_åˆ¥é¡”.webp"></li>
<li><img src="13_åˆ¥ç«‹ã¡2.webp" alt="13_åˆ¥ç«‹ã¡2.webp"></li>
<li><img src="14_åˆ¥é¡”2.webp" alt="14_åˆ¥é¡”2.webp"></li>
<li><img src="15_åˆ¥é¡”.webp" alt="15_åˆ¥é¡”.webp"></li>
<li><img src="23_åˆ¥ç«‹ã¡.webp" alt="23_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="23_åˆ¥é¡”.webp" alt="23_åˆ¥é¡”.webp"></li>
<li><img src="31_åˆ¥é¡”.webp" alt="31_åˆ¥é¡”.webp"></li>
<li><img src="33_åˆ¥é¡”.webp" alt="33_åˆ¥é¡”.webp"></li>
<li><img src="47_åˆ¥ç«‹ã¡.webp" alt="47_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="47_åˆ¥ç«‹ã¡_å·¨.webp" alt="47_åˆ¥ç«‹ã¡_å·¨.webp"></li>
<li><img src="47_åˆ¥é¡”.webp" alt="47_åˆ¥é¡”.webp"></li>
<li><img src="47_åˆ¥é¡”_å·¨.webp" alt="47_åˆ¥é¡”_å·¨.webp"></li>
<li><img src="49_åˆ¥ç«‹ã¡.webp" alt="49_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="49_åˆ¥é¡”2.webp" alt="49_åˆ¥é¡”2.webp"></li>
<li><img src="49_åˆ¥é¡”.webp" alt="49_åˆ¥é¡”.webp"></li>
<li><img src="49_åˆ¥é¡”_1.webp" alt="49_åˆ¥é¡”_1.webp"></li>
<li><img src="55_åˆ¥ç«‹ã¡.webp" alt="55_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="60_åˆ¥é¡”.webp" alt="60_åˆ¥é¡”.webp"></li>
<li><img src="65_åˆ¥ç«‹ã¡.webp" alt="65_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="66_åˆ¥ç«‹ã¡.webp" alt="66_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="80_åˆ¥é¡”.webp" alt="80_åˆ¥é¡”.webp"></li>
<li><img src="91_ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³.png" alt="91_ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³.png"></li>
<li><img src="91_ãƒ‘ã‚¤ã‚ºãƒª.png" alt="91_ãƒ‘ã‚¤ã‚ºãƒª.png"></li>
<li><img src="91_åˆ¥ç«‹ã¡.png" alt="91_åˆ¥ç«‹ã¡.png"></li>
<li><img src="91_åˆ¥ç«‹ã¡_ã‚»ãƒ¼ãƒ©ãƒ¼.png" alt="91_åˆ¥ç«‹ã¡_ã‚»ãƒ¼ãƒ©ãƒ¼.png"></li>
<li><img src="91_åˆ¥ç«‹ã¡_ãƒãƒ‹ãƒ¼.png" alt="91_åˆ¥ç«‹ã¡_ãƒãƒ‹ãƒ¼.png"></li>
<li><img src="91_åˆ¥ç«‹ã¡_ãƒ“ã‚­ãƒ‹.png" alt="91_åˆ¥ç«‹ã¡_ãƒ“ã‚­ãƒ‹.png"></li>
<li><img src="91_åˆ¥ç«‹ã¡_ãƒ¡ã‚¤ãƒ‰.png" alt="91_åˆ¥ç«‹ã¡_ãƒ¡ã‚¤ãƒ‰.png"></li>
<li><img src="91_åˆ¥ç«‹ã¡_å¤‰T.png" alt="91_åˆ¥ç«‹ã¡_å¤‰T.png"></li>
<li><img src="91_åˆ¥é¡”.png" alt="91_åˆ¥é¡”.png"></li>
<li><img src="91_åˆ¥é¡”_ã‚»ãƒ¼ãƒ©ãƒ¼.png" alt="91_åˆ¥é¡”_ã‚»ãƒ¼ãƒ©ãƒ¼.png"></li>
<li><img src="91_åˆ¥é¡”_ãƒãƒ‹ãƒ¼.png" alt="91_åˆ¥é¡”_ãƒãƒ‹ãƒ¼.png"></li>
<li><img src="91_åˆ¥é¡”_ãƒ“ã‚­ãƒ‹.png" alt="91_åˆ¥é¡”_ãƒ“ã‚­ãƒ‹.png"></li>
<li><img src="91_åˆ¥é¡”_ãƒ¡ã‚¤ãƒ‰.png" alt="91_åˆ¥é¡”_ãƒ¡ã‚¤ãƒ‰.png"></li>
<li><img src="91_åˆ¥é¡”_å¤‰T.png" alt="91_åˆ¥é¡”_å¤‰T.png"></li>
<li><img src="97_åˆ¥é¡”.webp" alt="97_åˆ¥é¡”.webp"></li>
<li><img src="111_åˆ¥ç«‹ã¡.webp" alt="111_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="111_åˆ¥é¡”.webp" alt="111_åˆ¥é¡”.webp"></li>
<li><img src="112_åˆ¥ç«‹ã¡.webp" alt="112_åˆ¥ç«‹ã¡.webp"></li>
<li><img src="112_åˆ¥ç«‹ã¡_ãƒãƒ‹ãƒ¼.webp" alt="112_åˆ¥ç«‹ã¡_ãƒãƒ‹ãƒ¼.webp"></li>
<li><img src="112_åˆ¥é¡”2.webp" alt="112_åˆ¥é¡”2.webp"></li>
<li><img src="112_åˆ¥é¡”.webp" alt="112_åˆ¥é¡”.webp"></li>
<li><img src="112_åˆ¥é¡”_ãƒãƒ‹ãƒ¼.webp" alt="112_åˆ¥é¡”_ãƒãƒ‹ãƒ¼.webp"></li>
<li><img src="113_åˆ¥é¡”.webp" alt="113_åˆ¥é¡”.webp"></li>
<li><img src="113_åˆ¥é¡”_1.webp" alt="113_åˆ¥é¡”_1.webp"></li>
<li><img src="113_åˆ¥é¡”_2.webp" alt="113_åˆ¥é¡”_2.webp"></li>

    </ul>
    <script>
        const imgs = document.querySelectorAll("[data-src]");
        let observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((item) => {
                    if (item.isIntersecting) {
                        item.target.src = item.target.dataset.src;
                        observer.unobserve(item.target);
                    }
                });
            },
            {
                rootMargin: "0px",
                threshold: 0.1,
            }
        );
        imgs.forEach((item) => observer.observe(item));

        const setVp = (val) => {
            document.querySelector("#list").style.width = `${val}%`;
        };
        const showVp = (val) => {
            document.querySelector("#vpPercent").innerText = `${val}%`;
        };

        // å¤œé—´æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ (ä¿ç•™)
        const nightModeIcon = document.getElementById('nightModeIcon');
        nightModeIcon.addEventListener('click', () => {
            document.body.classList.toggle('night-mode');
            if (document.body.classList.contains('night-mode')) {
                nightModeIcon.textContent = 'ğŸŒ™';
            } else {
                nightModeIcon.textContent = 'ğŸ’¡';
            }
        });

        //  ä¹¦é¡µæ¨¡å¼åˆ‡æ¢åŠŸèƒ½
        const bookPageIcon = document.getElementById('bookPageIcon');
        const list = document.getElementById('list'); // è·å– ul å…ƒç´ 
        let bookPageMode = 0; // 0: å•é¡µ, 1: åŒé¡µ, 2: ç©ºç™½é¡µåŒé¡µ
        let originalListItems = Array.from(list.children); //  ä¿å­˜åŸå§‹çš„ li é¡ºåº

        bookPageIcon.addEventListener('click', () => {
            bookPageMode = (bookPageMode + 1) % 3; // å¾ªç¯åˆ‡æ¢æ¨¡å¼
            updateBookPageMode();
        });

        function updateBookPageMode() {
            document.body.classList.remove('double-page-mode', 'blank-page-mode'); // ç§»é™¤ä¹‹å‰çš„æ¨¡å¼ class

            if (bookPageMode === 0) {
                bookPageIcon.textContent = 'ğŸ“–'; // å•é¡µæ¨¡å¼å›¾æ ‡
                resetListOrder(); // **å…ˆæ¢å¤åŸå§‹é¡ºåº**
            } else if (bookPageMode === 1) {
                bookPageIcon.textContent = 'ğŸ“š'; // åŒé¡µæ¨¡å¼å›¾æ ‡
                document.body.classList.add('double-page-mode');
                resetListOrder(); // **å…ˆæ¢å¤åŸå§‹é¡ºåº**
                reverseListOrderForDoublePage();
            } else if (bookPageMode === 2) {
                bookPageIcon.textContent = 'ğŸ“ƒ'; // ç©ºç™½é¡µåŒé¡µæ¨¡å¼å›¾æ ‡
                document.body.classList.add('blank-page-mode');
                resetListOrder(); // **å…ˆæ¢å¤åŸå§‹é¡ºåº**
                reverseListOrderFromSecondItem();
            }
        }


        function reverseListOrderForDoublePage() {
            const list = document.getElementById('list');
            const items = Array.from(list.children);
            const images = items;
            const reversedItems = [];

            for (let i = 0; i < images.length; i += 2) {
                if (images[i + 1]) {
                    reversedItems.push(images[i + 1]);
                }
                reversedItems.push(images[i]);
            }

            list.innerHTML = '';
            reversedItems.forEach(item => list.appendChild(item));
        }

        function reverseListOrderFromSecondItem() {
            const list = document.getElementById('list');
            const items = Array.from(list.children);

            if (items.length <= 1) return;

            const firstItem = items[0];
            const remainingItems = items.slice(1);
            const reversedItems = [];

            for (let i = 0; i < remainingItems.length; i += 2) {
                const item1 = remainingItems[i];
                const item2 = remainingItems[i + 1];

                if (item2) {
                    reversedItems.push(item2); // å…ˆæ·»åŠ å¶æ•°ç´¢å¼•çš„ (å·¦ä¾§)
                    reversedItems.push(item1); // å†æ·»åŠ å¥‡æ•°ç´¢å¼•çš„ (å³ä¾§)
                } else {
                    reversedItems.push(item1); // å¦‚æœåªæœ‰ item1ï¼Œç›´æ¥æ·»åŠ 
                }
            }

            list.innerHTML = '';
            list.appendChild(firstItem); //  å…ˆæ·»åŠ ç¬¬ä¸€ä¸ª li å…ƒç´ 
            reversedItems.forEach(item => list.appendChild(item)); //  ç„¶åæ·»åŠ é‡æ’åºåçš„å‰©ä½™åˆ—è¡¨é¡¹
        }


        function resetListOrder() {
            const list = document.getElementById('list');
            list.innerHTML = '';
            originalListItems.forEach(item => list.appendChild(item.cloneNode(true)));
            originalListItems = Array.from(list.children); // æ›´æ–° originalListItems
        }


        //  åˆå§‹åŒ–æ—¶ä¿å­˜åŸå§‹åˆ—è¡¨é¡¹ (ç¡®ä¿åœ¨äº‹ä»¶ç›‘å¬å™¨ä¹‹å‰)
        originalListItems = Array.from(list.children);
    </script>
</body>
</html>

